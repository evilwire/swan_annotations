\section{Category Theory}

\begin{definition} 
Let $\Cat{A}$ be an abelian category. A subcategory
$\Cat{C}$ is a \emph{Serre subcategory of $\Cat{A}$}
if
\begin{enumerate}
\item $\Cat{C}$ is a full subcategory of $\Cat{A}$

\item If $0 \to A' \to A \to A''\to 0$ is exact in $\Cat{A}$
then $A \in \Cat{C}$ if and only if $A'$ and $A''$ are in
$\Cat{C}$

\item $\Cat{C}$ is nonempty.
\end{enumerate}
\end{definition}

Example 3 is of great interest to us: Let $T$ be an exact
functor from $\Cat{A}$ to $\Cat{B}$, both abelian categories.
Let $\Cat{C}$ be the full subcategory of $\Cat{A}$ with objects
equal to $\{A | T(A) = 0\}$. Then $\Cat{C}$ is a Serre 
subcategory.

The proof: $\Cat{C}$ is by definition full, and non-empty
since $0 \in \Cat{C}$. Given
\[
0 \to A' \to A \to A'' \to 0
\]
of objects in $\Cat{A}$. Then, the following is exact:
\[
0 \to T(A') \to T(A) \to T(A'') \to 0.
\]
It is clear that $A \in \Cat{C}$ if and only if $A'$ and
$A''$ are members of $\Cat{C}$.

\begin{definition}
A category $\Cat{A}$ is \emph{well-powered} if the poset
of ``subobjects'' of any object $A \in \Cat{A}$ is small.
Here, ``subobject'' refers to an equivalence class of
monomorphisms.
\end{definition}

The comment ``Serre has given...'' refers to Theorem 2.1 on
page 44, where the category $\Cat{A}/\Cat{C}$ is constructed
for every abelian category $\Cat{A}$ and Serre subcategory
$\Cat{C}$.

\begin{prop}
A nonempty full subcategory $\Cat{C}$ of an abelian category
$\Cat{A}$ is a Serre subcategory if and only if for every
exact sequence
\[
A' \stackrel{f}{\to} A \stackrel{g}{\to} A''
\]
in $\Cat{A}$ with $A'$ and $A''$ in $\Cat{C}$ implies
$A \in \Cat{C}$.
\end{prop}
\begin{proof}
\noindent$\Leftarrow$: Show that $0 \in \Cat{C}$, and then show
use $0 \to A' \to A$ and $A \to A'' \to 0$ to show that $A'$
and $A''$ are in $\Cat{C}$

\noindent$\Rightarrow$: For
\[
A' \stackrel{f}{\to} A \stackrel{g}{\to} A''
\]
show that $\im f = \ker g$ and $\im g$ are all
objects of $\Cat{C}$ and use
\[
0 \to \ker g \to A \to \im g \to 0.
\]
\end{proof}

\begin{definition}
Let $\Cat{C}$ be a Serre subcategory of $\Cat{A}$ and let
$f : A \to B$ in $\Cat{A}$. Then
\begin{itemize}
\item $f$ is a \emph{$\Cat{C}$-mono} if $\ker f \in \Cat{C}$
\item $f$ is a \emph{$\Cat{C}$-epi} if $\cok f \in \Cat{C}$
\item $f$ is a \emph{$\Cat{C}$-iso} if $f$ is both a mono and
      an epi
\end{itemize}
\end{definition}

\begin{lem}\label{C_map_comp}
Let $A \stackrel{f}{\to} B \stackrel{g}{\to} C$ be an exact
sequence in $\Cat{A}$. 
\begin{enumerate}
\item If $f$ and $g$ are $\Cat{C}$-*, then so is $gf$.

\item If $gf$ is $\Cat{C}$-mono, then $f$ is $\Cat{C}$-mono.

\item If $f$ is $\Cat{C}$-iso, then $g$ is a $\Cat{C}$-* if
      and only if $gf$ is.

\item If $g$ is $\Cat{C}$-iso, then $f$ is a $\Cat{C}$-* if
      and only if $gf$ is.
\end{enumerate}
\end{lem}
\begin{proof}
The proof uses the 3-Lemma; stated simply: if 
$A \stackrel{f}{\to} B \stackrel{g}{\to} C$
is exact, then so is
\[
0 \to \ker f \to \ker gf \to \ker g \to \cok f \to \cok gf \to
\cok g \to 0,
\]
from which the lemma follows from Prop 1.1.

To see this, apply the Snake Lemma to
\[
\begin{diagram}
0 &\rTo &A &\rTo{\id \oplus f} &A \oplus B &\rTo{f - \id} &B &\rTo &0 \\
  &   &\dTo{f} &   &\dTo{gf \oplus id} &          &\dTo{g}  &   & \\
0 &\rTo &B &\rTo{g\oplus \id} &C \oplus B &\rTo{\id - g} &C &\rTo &0 
\end{diagram}
\]
\end{proof}

\begin{definition}
Let $\Cat{A}$ be an abelian category, $\Cat{C}$ a Serre subcategory,
and $L \in \Cat{A}$ is \emph{$\Cat{C}$-closed} if for $\Cat{C}$-iso 
$u: A \to B$,
\[
\hom(B, L) \to \hom(A, L) 
\]
is an isomorphism.
\end{definition}

\begin{lem}\label{lemma_1_3}%\label{C_close_eq_cond}
$L$ is $\Cat{C}$-closed if and only if
\begin{enumerate}
\item $L$ has no $\Cat{C}$ subobject. That is, $C \in \Cat{C}$ 
      implies $\hom(C, L) = 0$, and

\item If $0 \to L \to X \to C \to 0$ is exact, and $C \in \Cat{C}$
      then the sequence splits.
\end{enumerate}
\end{lem}
\begin{proof}
\noindent $\Rightarrow$: Use the $\Cat{C}$-iso $C \to 0$, and
note that the map $L \to X$ in (2) is a $\Cat{C}$-iso.

\noindent $\Leftarrow$: Consider $f: A \to B$, and reduce to the
case where $f$ is either an mono or an epi by considering $\ker f$, 
$\im f$ and $\cok f$. 

The case where $f$ is epi, complete to a s.e.s, and note that the
kernel is in $\Cat{C}$; use (1).

The case where $f$ is mono, conclude $f$ induces injection on homs 
via same reasoning as epi; consider push-out $P$ of $g: A \to L$ and
$f: A \to B$, and complete the square into map between s.e.s's:
\[
\begin{diagram}
0 & \rTo &   A     &\rTo{f}  & B                &  \rTo     & C       &\rTo & 0 \\
  &      &\dTo{g}  &        &\dTo{g'}          &          &\dTo{g}  &    & \\
0 & \rTo &   L     &\rTo{f'} & P                &  \rTo     & C'      &\rTo & 0.
\end{diagram}
\]
Using the universal property of $P$, via $B \to C$ and $L 
\stackrel{0}{\to} C$, we get $P \to C$; $C' \to C$ comes
from the universal property of cokernels. Show that $C \simeq 
C'$, so $C' \in \Cat{C}$. Finish by splitting the bottom s.e.s. 
using (2).
\end{proof}

\begin{definition}
$u : A \to L$ is called a \emph{$\Cat{C}$-envelop of $A$} if $u$ is a
$\Cat{C}$-iso and $L$ is $\Cat{C}$-closed.
\end{definition}

\begin{definition}
A Serre subcategory $\Cat{C}$ of $\Cat{A}$ is a \emph{localizing 
subcategory} if every object in $\Cat{A}$ has a $\Cat{C}$-envelop.
\end{definition}

\begin{rmk}
It is worth mentioning that Gabriel defined localizing by 
considering $T: \Cat{A} \to \Cat{A}/\Cat{C}$: $\Cat{C}$ is 
localizing if and only if $T$ admits a left adjoint.
\end{rmk}

\begin{thm}
Let $\Cat{C}$ be a localizing subcategory of $\Cat{A}$. Let
$\Cat{L}$ be the full subcategory of all $\Cat{C}$-closed objects.
Then
\begin{enumerate}
\item $\Cat{L}$ is reflexive. That is, the inclusion $i: \Cat{L}
\to \Cat{A}$ has a left adjoint $R: \Cat{A} \to \Cat{L}$.

\item $\Cat{L}$ is abelian (but can fail to be an exact subcateory
of $\Cat{A}$).

\item $R$ is an exact functor from $\Cat{A}$ to $\Cat{A}$.

\item If $\Cat{A}$ is complete/cocomplete, then so is
$\Cat{L}$.
\end{enumerate}
\end{thm}

\begin{proof}
For $A \in \Cat{A}$, set $RA$ to be any $\Cat{C}$-envelop
of $A$. Since $A \stackrel{u}{\to} RA$ is a $\Cat{C}$-iso, then,
for $A \to A'$, since $RA'$ is $\Cat{C}$-closed, $u$ induces a
bijection $\hom(A, RA') \simeq \hom(RA, RA')$ (via composition) 
and let $Rf$ be the unique map making
\[
\begin{diagram}
 A     &\rTo{f}  & A'\\
\dTo{u}  &        &\dTo{u'}\\
RA     &\rTo{Rf} & RA'
\end{diagram}
\]
Check that $R$ is a functor; left-adjointness follows from the
fact that 
\[
\hom_{\Cat{L}}(RA, L) = \hom_{\Cat{C}}(RA, L) =
\hom_{\Cat{C}}(A, L)
\]
for any $L \in \Cat{L}$.

To show that $R(gf) = RgRf$, consider
\[
\begin{diagram}
 A     &\rTo{f}  & A' & \rTo{g} & A'' \\
\dTo{u}  &        &\dTo{u'} &    &\dTo{u''} \\
RA     &\rTo{Rf} & RA' & \rTo{Rg} & RA''
\end{diagram}
\]
and use the fact that $RgRf$ is the unique map
from $RA$ to $RA''$ that makes the outer square
commute.

This proves (1) of the Theorem.

Similarly, $R0 = 0$. (Contrary to the claim in Swan,
$R$ is not yet known to be additive, since $\Cat{L}$
is not yet known to be additive.)

To continue:

\begin{lem}\label{thm_lemma}
Let $i$ denote inclusion of $\Cat{L}$ into $\Cat{A}$. The
functor $iR: \Cat{A} \to \Cat{A}$ is left exact.
\end{lem}

\begin{proof}
Let $0 \to A \stackrel{f}{\to} A' \stackrel{g}{\to} A'' \to 
0$ be an exact sequence, and we have 
\[
\begin{diagram}
0 & \rTo &   A'     &\rTo{f}  & A           &  \rTo{g}     & A''       &\rTo & 0 \\
  &      &\dTo{u'}  &        &\dTo(4,0){u}  &              &\dTo(4,0){u''} \\ 
  &       &   RA'     \\
  &       &\dTo{h}   & \rdTo{Rf} \\
0 & \rTo  & \ker Rj  & \rTo   & RA          & \rTo{Rg} & RA''
\end{diagram}
\]
Applying Snake Lemma, conclude that $\ker hu', \cok hu' \in \Cat{C}$. 
Use Lemma \ref{C_map_comp}, conclude that $h$ is a $\Cat{C}$-iso.
Using Lemma \ref{lemma_1_3} on the sequence
\[
0 \to K \to RA' \to \ker Rg \to D \to 0
\]
to show that $K = 0$ and $D \to \ker Rg \to RA$ is an injection
(since the s.e.s. splits). But $RA$ is $\Cat{C}$-closed, which
implies that $D = 0$.
\end{proof}

Showing that $\Cat{L}$ is closed under finite products (and 
arbitrary products if they exist in $\Cat{A}$): fix $A \to B$
a $\Cat{C}$-iso, and let $L = \prod L_\alpha$ (as an object of 
$\Cat{A}$), then we have
\[
\begin{diagram}
\hom(A, L)  &\lTo  & \hom(B, L) \\ 
\dEquals  &        &\dEquals \\
\prod \hom(A, L_\alpha)     &\lTo & \prod \hom(B, L_\alpha).
\end{diagram}
\]
with the bottom map an iso for every $\alpha$.

For kernels in $\Cat{L}$, consider $\Cat{C}$-iso $A \to B$,
and fix $X$ to be the kernel of $L \to L'$, then
\[
\begin{diagram}
0 & \hom(A, X)  & \lTo  & \hom(A, L) & \lTo & \hom(A, L') \\ 
  &  \uTo       &       & \uTo       &      & \uTo        \\
0 & \hom(B, X)  & \lTo  & \hom(B, L) & \lTo & \hom(B, L')
\end{diagram}
\]
and use the 5-lemma.

Hence, $\Cat{L}$ is closed under $\colim$ if $\Cat{A}$ is
complete.

For sums and cokernels, use the following facts:
\begin{enumerate}
\item $R$ preserves $\dlim$ since $R$ is a left adjoint.

\item finite sums exist in $\Cat{L}$ since they are also finite
products.

\item $Ri$ is naturally iso to the identity functor on $\Cat{L}$:
to see this, fix $L \in \Cat{L}$ and consider
\[
\begin{diagram}
L        & \rEquals &L \\
\dTo{u}  &          &\dEquals \\
RL       & \rTo     &L
\end{diagram}
\]
and naturality follows. 

\item $\Cat{A}$ is abelian, and is itself closed under
finite $\dlim$.

\item $\Cat{L}$ thus has a zero object, which is the
same as the zero object of $\Cat{A}$ (since $0 \in \Cat{L}$).
\end{enumerate}

From 1, 2, and 3, it is clear that if $\Cat{A}$ is cocomplete,
then so is $\Cat{L}$. This shows (4) in the Theorem.

From 1 - 4, it is clear that $\Cat{L}$ is also closed under
$\dlim$, whence $\Cat{L}$ is additive and closed under direct 
sums, kernels and cokernels.

To finish (show that $\Cat{L}$ is abelian, and $R$ is exact)
we need only to show that $R$ preserves kernels and cokernels;
whence $R$ preserves images and coimages.

That $R$ preserves cokers is clear, since $R$ is a left-adjoint.
For kernels, consider $K = \ker (A \to A)$, and by \ref{thm_lemma}
\[
0 \to iRK \to iRA \to iRA'
\]
and we have that $i$ preserves kernels, so $R$ must, too. This
concludes the proof of the Theorem.
\end{proof}

For the following, let $\Cat{M}$ be the full subcategory of
objects that has no subobject other than 0 in $\Cat{C}$.

\begin{lem}\label{lemma_1_6}
If $0 \to A \stackrel{f}{\to} L \stackrel{g}{\to} B \to 0$ is 
exact in $\Cat{A}$ and $L \in \Cat{L}$ then $A \in \Cat{L}$ if 
and only if $B \in \Cat{M}$.
\end{lem}
\begin{proof}
\noindent $\Rightarrow$: $A \in \Cat{M}$ since $L$ is 
$\Cat{C}$-closed. By Lemma \ref{lemma_1_3} it suffices
to show that any s.e.s.
\[
0 \to A \stackrel{f}{\to} X \stackrel{g}{\to} C \to 0
\]
with $C \in \Cat{C}$ splits. For this, notice that $f$ is
a $\Cat{C}$-iso, and therefore, we have the following
\[
\begin{diagram}
0 &\rTo & A        & \rTo{f}  & X       & \rTo{g}  & C       & \rTo & 0\\ 
  &     & \dEquals &          & \dTo{h} &          & \dTo{j} \\
0 &\rTo & A        & \rTo{f'} & L       & \rTo{g'} & B       & \rTo & 0
\end{diagram}
\]
from $\hom(X, L) \simeq \hom(A, L)$, and $j$ from the universality 
of cokers. Since $B \in \Cat{M}$, $j = 0$, and $h$ factors through
$f$ via, say $h'$. Then $h'$ is the desired splitting.

\noindent $\Leftarrow$: Assume there exists an injection $C 
\stackrel{j}{\to} B$, and take pull-back $P$ of $L \to B$. 
Complete the pullback square into the diagram:
\[
\begin{diagram}
0 &\rTo & A        & \rTo{f'} & L       & \rTo{g'} & B       & \rTo & 0\\ 
  &     & \dEquals &          & \uTo{h} &          & \uTo{j} \\
0 &\rTo & A        & \rTo     & P       & \rTo     & C       & \rTo & 0
\end{diagram}
\]
Since $h$ is an injection, since it is a pull-back of an injection,
and since $A \in \Cat{L}$, the bottom s.e.s. splits; taking the 
composition: $C \to P \stackrel{h}{\to} L$, we see that $C = 0$.
\end{proof}

\begin{prop}\label{prop_1_7}
Let $\Cat{C}$ be a Serre subcategory of an abelian category 
$\Cat{A}$. Then the following are equivalent:
\begin{enumerate}
\item $\Cat{C}$ is localizing.

\item Every $A \in \Cat{A}$ has a $\Cat{C}$-mono $u: A \to L$
with $L$ $\Cat{C}$-closed.

\item Every $A \in \Cat{A}$ has a largest $\Cat{C}$ subobject;
and if $A \in \Cat{M}$ (as introduced above), then there exists
a mono $A \to L$ with $L$ $\Cat{C}$ closed.
\end{enumerate}
\end{prop}
\begin{rmk}
Here, $C$ is a largest subobject of $A$ means that for any
two monos $C \to C' \to A$, $C \simeq C'$. Equivalently, for
any mono $f: D \to A$, there exists a mono $D \to C$ factoring
$f$. It is the second sense that we will use to proceed.
\end{rmk}
\begin{proof}
\noindent (1) $\Rightarrow$ (2): is clear.

\noindent (2) $\Rightarrow$ (3): Fix $A \stackrel{u}{\to} L$
and the kernel $C$, which is an object of $\Cat{C}$, is the
largest; indeed, any $D \to A \to L$ must be 0. Thus, any
$D \to A$ factors through $C$.

\noindent (3) $\Rightarrow$ (2): Let $C$ be the largest 
subobject of $A$ in $\Cat{C}$, and let $B$ be the coker. 
We show $B \in \Cat{M}$: assume a mono $D \to B$, where $D \in 
\Cat{C}$, and complete into the following by taking a pullback 
$P$ along $B$:
\[
\begin{diagram}
0 &\rTo & C        & \rTo     & P    & \rTo{j'} & D       & \rTo & 0\\ 
  &     & \dEquals & \ldTo{f} & \dTo &          & \dTo    \\
0 &\rTo & C        & \rTo{h}  & A    & \rTo{j}  & B       & \rTo & 0
\end{diagram}
\]
That $j'$ is epi follows from $j$ epi. $C \to P$ follows from the 
universality of pullbacks (via $C \stackrel{0}{\to} D$) and $D 
\to B$ is injective implies that the top sequence is exact, and
since $C, D \in \Cat{C}$ implies that $P \in \Cat{C}$; $C$ largest
implies $P \to A$ factors through $C$, and thus, $P \to D \to B$
is 0, and thus $D = 0$. This shows that $B \in \Cat{M}$.

$B \in \Cat{M}$ implies (via 3) that we can construct a 
$\Cat{C}$-mono $B \to L$ to some $L$ $\Cat{C}$-closed, and
the composition $A \to B \to L$ is the desired $\Cat{C}$-mono.

\noindent (3) $\Rightarrow$ (1): Suppose $A$ has largest
$\Cat{C}$ subobject, then by the same reasoning as above,
we have
\[
0 \to C \to A \to B \to 0
\]
with $B \in \Cat{M}$, and if we assume that $B$ has a
$\Cat{C}$-envelop $L$, then, composing $A \to B \to L$
is also a $\Cat{C}$-iso: $B \to L$ is a $\Cat{C}$-iso
and $B \in \Cat{M}$ then $B \to L$ is injective; $A \to
B$ surjective implies that
\[
0 \to C \to A \to L \to C' \to 0
\]
exact for some $C' \in \Cat{C}$. Therefore, it suffice
to prove that any $A \in \Cat{M}$ has a $\Cat{C}$-envelop.

Via (3), set $A \to L$ a $\Cat{C}$-mono, $L$ is 
$\Cat{C}$-closed. Complete to a s.e.s (with cok $Q$).
Take largest $\Cat{C}$-subobject $C$ of $Q$, and pullback
$P$ along $Q$:
\begin{equation}\label{pull_back_of_subobj}
\begin{diagram}
0 &\rTo & A        & \rTo{f'} & L       & \rTo{g'} & Q       & \rTo & 0\\ 
  &     & \dEquals &          & \uTo{f} &          & \uTo{j} \\
0 &\rTo & A        & \rTo     & P       & \rTo     & C       & \rTo & 0
\end{diagram}
\end{equation}
and proceed by proving that $P$ is $\Cat{C}$-closed by considering
the diagram:
\[
\begin{diagram}
0 &\rTo & P        & \rTo{f} & L       & \rTo & \cok f  & \rTo & 0\\ 
  &     & \dTo     &         & \dTo{f} &      & \dTo{j} \\
0 &\rTo & C        & \rTo{j} & Q       & \rTo & \cok j  & \rTo & 0
\end{diagram}
\]
Here, $f$ is mono because it is pullback of a mono; apply Snake to
(\ref{pull_back_of_subobj}) to conclude that $\cok j \simeq \cok f$.
But $\cok j \in \Cat{M}$ (see (3) $\Rightarrow$ (2)), and so is
$\cok f$; by Lemma \ref{lemma_1_6}, $P$ is $\Cat{C}$-closed.
\end{proof}

\begin{definition}
Fix $\Cat{A}$ an abelian category, and $M \in \Cat{A}$.

An \emph{essential extension} (of $M$ by $E$) is a mono $u: M \to 
E$ such that for every non-zero subobject $N \to E$, the fibre 
product $M \times_E M$ is not $0$.

If $E$ is injective, then we say that $E$ is an \emph{injective 
hull} (or an \emph{injective envelope}) of $M$.
\end{definition}

\begin{rmk}
If $\Cat{A}$ has enough injectives and satisfies AB5 (filtered colims
of exact sequences are exact), then $\Cat{A}$ has enough injectives.
\end{rmk}

\begin{cor}
If $\Cat{A}$ has injective envelopes, then $\Cat{C}$ is 
localizing if and only if every $A \in \Cat{C}$ has a largest 
subobject.
\end{cor}
\begin{proof}
Using (3) of Prop. \ref{prop_1_7}, it suffices to show that every
$A \in \Cat{M}$ emits a $\Cat{C}$-mono $u: A \to L$ for $L \in 
\Cat{L}$

Fix an injective envelope $L$ of $A$; We claim that $L$ is 
$\Cat{C}$-closed. Certainly, every $\Cat{C}$ subobject
meets of $L$ must meet $A$ trivially (since $A \in \Cat{M}$, 
so $L \in \Cat{M}$. Now use the fact $L$ is injective to
show criteria (2) of Lemma \ref{lemma_1_3}.
\end{proof}

\begin{por}
$\Cat{M}$ is closed under taking essential extensions.
\end{por}
\begin{proof}
Fix $L \in M$, and fix an essential extension $L \to L'$. For any 
subobject. Any nonzero $\Cat{C}$ subobject of $L'$ pulls back 
nontrivially to $L$, a contradiction.
\end{proof}

\begin{definition}
A category $\Cat{A}$ is \emph{well-powered} if for each $A \in
\Cat{A}$, the class of subobjects of $A$ is a set.
\end{definition}

\begin{cor}
If $\Cat{A}$ has injective envelopes, is right complete, and
well-powered, then $\Cat{C}$ is localizing if and only if $\Cat{C}$
is closed under direct sums (equiv. $\Cat{C}$ is complete)
\end{cor}
\begin{proof}
\noindent $\Leftarrow$: sum over the set of $\Cat{C}$ subobjects
of $A$. This is an object of $\Cat{C}$, whose image in $A$ must
also be in $\Cat{C}$, since $\Cat{C}$ is a Serre subcategory. This
is the largest subobject.

\noindent $\Rightarrow$: $C \in \Cat{C}$ if and only if $C \to 0$
is a $\Cat{C}$-envelope if and only if $RC = 0$.

But $R\sum_{\alpha} C_\alpha = \sum_{\alpha} RC_\alpha$ (since $R$
is left adjoint.
\end{proof}

